# Day 5: Environment Setup (tsconfig) & Capstone Project

## File tsconfig

The `tsconfig.json` file is the central configuration file for a TypeScript project, which defines the root files and the compiler options required to compile the project. Its presence in a directory indicates that the directory is the root of a TypeScript project.

**How to Use It?**
The tsconfig.json file is used to control the behavior of the TypeScript compiler (tsc).

- **Specify Compiler Options:** Instead of passing a long list of command-line flags, you can persist all compiler settings, type-checking rules, and output configurations in this single file, ensuring consistency across your team and different development environments.
- **Define Project Scope:** It uses properties like include and exclude to explicitly specify which files the compiler should process and which ones to ignore (e.g., node_modules or test files).
- **Improve Tooling Support:** Modern Integrated Development Environments (IDEs) like VS Code use this file to understand your project structure and provide features like intelligent code completion, type-checking, and navigation.

### Key Properties

**`Root-Level Options`**
| Property | Description |
|----------|-------------|
| `include` | An array of glob patterns that specifies which files to include in the project for compilation. |
| `exclude` | An array of glob patterns that tells the compiler which files to skip, overriding include. |
| `files` | An array of relative file paths to explicitly include in the compilation. This is useful for projects with a small number of files but is less common than include. |
| `extends` | A string path to another configuration file to inherit settings from. This allows for sharing base configurations across multiple projects. |

**`compilerOptions`**

| Option          | Description                                                                                                                     |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------- |
| target          | Specifies the ECMAScript target version for the compiled JavaScript (e.g., ES5, ES2015, ESNext).                                |
| module          | Specifies the module system for the generated JavaScript code (e.g., CommonJS for Node.js, ESNext for modern web apps).         |
| outDir          | Redirects the output structure to a specified directory (e.g., ./dist or ./build).                                              |
| rootDir         | Specifies the root directory of the input files, useful for controlling the output directory structure.                         |
| strict          | Enables all strict type-checking options (e.g., noImplicitAny, strictNullChecks), which is highly recommended for robust code.  |
| esModuleInterop | Enables compatibility with CommonJS modules, allowing default imports from modules without a default export.                    |
| sourceMap       | Generates corresponding .map files, which are necessary for debugging your original TypeScript code in the browser or debugger. |

## TS Compiler (`tsc`)

**What is `tsc`?** TypeScript is a `statically-typed superset of JavaScript`, meaning any valid JavaScript code is also valid TypeScript code, but TypeScript adds features like type annotations, interfaces, and modules.
The primary role of tsc is to:

- **Parse** the TypeScript code into an Abstract Syntax Tree (**AST**).
- **Type-check** the code for errors based on type annotations and inference rules, catching potential bugs during development rather than at runtime.
- **Transform TypeScript-specific** constructs into equivalent JavaScript code, removing type annotations in the process.
- **Emit the resulting JavaScript files**, optionally generating source maps for easier debugging of the original TypeScript code.

### Using CLI

```bash
# Run a compile based on a backwards look through the fs for a tsconfig.json
tsc
# Emit JS for just the index.ts with the compiler defaults
tsc index.ts
# Emit JS for any .ts files in the folder src, with the default settings
tsc src/*.ts
# Emit files referenced in with the compiler settings from tsconfig.production.json
tsc --project tsconfig.production.json
# Emit d.ts files for a js file with showing compiler options which are booleans
tsc index.js --declaration --emitDeclarationOnly
# Emit a single .js file from two files via compiler options which take string arguments
tsc app.ts util.ts --target esnext --outfile index.js
```

### Compiler Options

[For more info.](https://www.typescriptlang.org/docs/handbook/compiler-options.html#compiler-options)

| Command/Parameter           | Type    | Description                                                                                                                                                |
| --------------------------- | ------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| --help                      | boolean | Displays local help information for the CLI.                                                                                                               |
| --version                   | boolean | Prints the current TypeScript compiler version.                                                                                                            |
| --init                      | boolean | Creates a basic tsconfig.json file in the current directory.                                                                                               |
| --project <path>, -p <path> | string  | Compiles the project using the specified configuration file path or folder (defaults to tsconfig.json in the current directory if no files are specified). |
| --watch, -w                 | boolean | Runs the compiler in watch mode, automatically recompiling files when changes are detected.                                                                |
| --build                     | boolean | Builds one or more projects and their dependencies if they are out of date.                                                                                |
| --clean                     | boolean | Deletes the outputs of all projects specified with --build.                                                                                                |
| --showConfig                | boolean | Prints the final JSON configuration that the compiler will use, instead of building the project.                                                           |
| --diagnostics               | boolean | Displays diagnostic information about the compilation process (e.g., file counts, memory usage, time taken).                                               |
| --noEmit                    | boolean | Instructs the compiler to perform type checking only, without generating output JavaScript files.                                                          |
| --outFile <file>            | string  | Concatenates and emits all output JavaScript into a single specified file.                                                                                 |
