# Day 2: Functions, Objects, and Enums

## Functions

- Functions can have typed parameters and return types.

  ```typescript
  // A function that takes a string parameter and returns a string
  function greet(person: string): string {
    return `Hello, ${person}!`;
  }
  //promise to return a string
  function fetchData(url: string): Promise<string> {
    return new Promise((resolve, reject) => {
      // Simulate fetching data
      setTimeout(() => {
        resolve(`Data from ${url}`);
      }, 1000);
    });
  }
  // void function
  function logMessage(message: string): void {
    console.log(message);
  }
  ```

- Optional parameters can be defined using `?`.

  ```typescript
  function greet(person: string, title?: string): string {
    if (title) {
      return `Hello, ${title} ${person}!`;
    } else {
      return `Hello, ${person}!`;
    }
  }
  ```

- Default parameters can be set.

  ```typescript
  function greet(person: string, title: string = "Mr./Ms."): string {
    return `Hello, ${title} ${person}!`;
  }
  ```

- Rest parameters allow functions to accept an indefinite number of arguments.

  ```typescript
  function sum(...numbers: number[]): number {
    return numbers.reduce((total, num) => total + num, 0);
  }

  console.log(sum(1, 2, 3, 4)); // Outputs: 10
  ```

  ### Arrow Functions

Arrow functions provide a concise syntax for writing functions.

```typescript
const add = (a: number, b: number): number => a + b;
const square = (x: number): number => x * x;
const greet = (name: string): string => `Hello, ${name}!`;
const logMessage = (message: string): void => {
  console.log(message);
};
```

**key features:**

- Concise syntax: No need for the `function` keyword.
- Lexical `this`: Arrow functions do not have their own `this` context; they inherit it from the surrounding scope.
- Typed parameters and return types can be specified just like regular functions.
- Anonymous functions: Often used as callbacks or in higher-order functions.

---

## Objects

In Ts, objects are the most common to group and send data.

- They can be anonymous:

  ```typescript
  // Anonymous object
  const person: { name: string; age: number } = {
    name: "Alice",
    age: 30,
  };
  ```

  - Defined using an interface:

  ```typescript
  interface Person {
    name: string;
    age: number;
  }
  const person: Person = {
    name: "Bob",
    age: 25,
  };
  ```

  - Or using a type alias:

  ```typescript
  type Person = {
    name: string;
    age: number;
  };
  const person: Person = {
    name: "Charlie",
    age: 28,
  };
  ```

- Objects can have methods:

  ```typescript
  interface person {
    name: string;
    age: number;
    greet: () => string;
  }
  ```

  > Using arrow function syntax for methods, but without any implementation because it's just a type definition.

- Objects can be nested:

  ```typescript
  interface Address {
    street: string;
    city: string;
  }

  interface Person {
    name: string;
    age: number;
    address: Address;
  }

  const person: Person = {
    name: "David",
    age: 35,
    address: {
      street: "123 Main St",
      city: "Anytown",
    },
  };
  ```

  ### Properties Modifiers

- Readonly properties: Use the `readonly` modifier to make a property immutable.

  ```typescript
  interface Person {
    readonly id: number;
    name: string;
    age: number;
  }
  ```

- Optional properties: Use the `?` modifier to make a property optional.

  ```typescript
  interface Person {
    name: string;
    age?: number; // age is optional
  }
  ```

  - you can make sure a property exists using the non-null assertion operator `!`.

    ```typescript
    const person: Person = { name: "Eve" };
    console.log(person.age! + 5); // Asserts that age is not null or
    ```

  - you can also use default values or conditional checks to handle optional properties safely.

    ```typescript
    const person: Person = { name: "Eve" };
    const age = person.age ?? 0; // Default to 0 if age is undefined
    console.log(age + 5);

    // using default parameters in functions
    function printAge({ name, age = 0 }: Person): void {
      console.log(`${name} is ${age} years old.`);
    }
    printAge(person); // Outputs: Eve is 0 years old.
    ```

### Inheriting Object Types

You can create new object types by extending existing ones using the `extends` keyword.

```typescript
interface Address {
  street: string;
  city: string;
}
interface Person {
  name: string;
  age: number;
}
interface Employee extends Person {
  employeeId: number;
  address: Address;
}
const employee: Employee = {
  name: "Frank",
  age: 40,
  employeeId: 12345,
  address: {
    street: "456 Elm St",
    city: "Othertown",
  },
};
```

> ---
>
> ### Bonus: Extending Types
>
> - You can also extend types using intersection types with the `&` operator.
>
> ```typescript
> type Address = {
>   street: string;
>   city: string;
> };
> type Person = {
>   name: string;
>   age: number;
> };
> type Employee = Person & {
>   employeeId: number;
>   address: Address;
> };
> const employee: Employee = {
>   name: "Frank",
>   age: 40,
>   employeeId: 12345,
>   address: {
>     street: "456 Elm St",
>     city: "Othertown",
>   },
> };
> ```
>
> - You can extend interfaces using & as well, but it's less common.
>
> ```typescript
> interface Colorful {
>   color: string;
> }
> interface Circle {
>   radius: number;
> }
>
> type ColorfulCircle = Colorful & Circle;
> ```
>
> ---

## Enums

Enums are a way to define a set of named constants.

```typescript
enum Direction {
  Up,
  Down,
  Left,
  Right,
}
```

- By default, enums are numeric, starting at 0. You can assign specific values.

  ```typescript
  enum Direction {
    Up = 1,
    Down = 2,
    Left = 3,
    Right = 4,
  }
  ```

- You can also create string enums.

  ```typescript
  enum Direction {
    Up = "UP",
    Down = "DOWN",
    Left = "LEFT",
    Right = "RIGHT",
  }
  ```

- Enums can be used in functions and objects.

  ```typescript
  function move(direction: Direction): void {
    console.log(`Moving in direction: ${direction}`);
  }
  const myDirection: Direction = Direction.Up;
  move(myDirection); // Outputs: Moving in direction: Up
  ```

- Enums can have computed and constant members.

  ```typescript
  enum FileAccess {
    // constant members
    None,
    Read = 1 << 1,
    Write = 1 << 2,
    ReadWrite = Read | Write,
    // computed member
    G = "123".length,
  }
  ```

- Enums can be heterogeneous, mixing string and numeric members, but it's not common.

  ```typescript
  enum BooleanLikeHeterogeneousEnum {
    No = 0,
    Yes = "YES",
  }
  ```

- You can use enums in switch statements for better readability.

```typescript
enum Direction {
  Up,
  Down,
  Left,
  Right,
}
function move(direction: Direction): void {
  switch (direction) {
    case Direction.Up:
      console.log("Moving up");
      break;
    case Direction.Down:
      console.log("Moving down");
      break;
    case Direction.Left:
      console.log("Moving left");
      break;
    case Direction.Right:
      console.log("Moving right");
      break;
  }
}
```

## Summary

- Functions in TypeScript can have typed parameters, return types, optional parameters, default parameters, and rest parameters.
- Arrow functions provide a concise syntax and lexical `this` context.
- Objects can be defined using interfaces or type aliases, can have methods, and support property modifiers like `readonly` and optional properties.
- Enums allow you to define a set of named constants, which can be numeric or string-based, and can be used to improve code readability.

> ---
>
> ## Observations
>
> To import and export modules in ts, you have to modify `package.json` to include `"type": "module"`. This allows the use of ES6 module syntax (`import` and `export`) in TypeScript files.
>
> - Without this setting, Node.js treats `.js` files as CommonJS modules by default, which can lead to compatibility issues when using ES6 module syntax.
> - By specifying `"type": "module"`, you inform Node.js to interpret `.js` files as ES6 modules, enabling seamless integration with TypeScript's module system.
>
> ---
